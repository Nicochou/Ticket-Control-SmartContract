{"ast":null,"code":"\"use strict\";\n\nimport _classCallCheck from \"D:\\\\Projets\\\\group-790626\\\\jobillet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Projets\\\\group-790626\\\\jobillet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\Projets\\\\group-790626\\\\jobillet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\Projets\\\\group-790626\\\\jobillet\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nimport { BigNumber } from \"@ethersproject/bignumber\";\nimport { MaxUint256, NegativeOne, One, Zero } from \"@ethersproject/constants\";\nimport { Coder } from \"./abstract-coder\";\nexport var NumberCoder = /*#__PURE__*/function (_Coder) {\n  _inherits(NumberCoder, _Coder);\n\n  var _super = _createSuper(NumberCoder);\n\n  function NumberCoder(size, signed, localName) {\n    var _this;\n\n    _classCallCheck(this, NumberCoder);\n\n    var name = (signed ? \"int\" : \"uint\") + size * 8;\n    _this = _super.call(this, name, name, localName, false);\n    _this.size = size;\n    _this.signed = signed;\n    return _this;\n  }\n\n  _createClass(NumberCoder, [{\n    key: \"encode\",\n    value: function encode(writer, value) {\n      var v = BigNumber.from(value); // Check bounds are safe for encoding\n\n      var maxUintValue = MaxUint256.mask(writer.wordSize * 8);\n\n      if (this.signed) {\n        var bounds = maxUintValue.mask(this.size * 8 - 1);\n\n        if (v.gt(bounds) || v.lt(bounds.add(One).mul(NegativeOne))) {\n          this._throwError(\"value out-of-bounds\", value);\n        }\n      } else if (v.lt(Zero) || v.gt(maxUintValue.mask(this.size * 8))) {\n        this._throwError(\"value out-of-bounds\", value);\n      }\n\n      v = v.toTwos(this.size * 8).mask(this.size * 8);\n\n      if (this.signed) {\n        v = v.fromTwos(this.size * 8).toTwos(8 * writer.wordSize);\n      }\n\n      return writer.writeValue(v);\n    }\n  }, {\n    key: \"decode\",\n    value: function decode(reader) {\n      var value = reader.readValue().mask(this.size * 8);\n\n      if (this.signed) {\n        value = value.fromTwos(this.size * 8);\n      }\n\n      return reader.coerce(this.name, value);\n    }\n  }]);\n\n  return NumberCoder;\n}(Coder);","map":{"version":3,"sources":["D:/Projets/group-790626/jobillet/client/node_modules/@ethersproject/abi/lib.esm/coders/number.js"],"names":["BigNumber","MaxUint256","NegativeOne","One","Zero","Coder","NumberCoder","size","signed","localName","name","writer","value","v","from","maxUintValue","mask","wordSize","bounds","gt","lt","add","mul","_throwError","toTwos","fromTwos","writeValue","reader","readValue","coerce"],"mappings":"AAAA;;;;;;AACA,SAASA,SAAT,QAA0B,0BAA1B;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,GAAlC,EAAuCC,IAAvC,QAAmD,0BAAnD;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,WAAaC,WAAb;AAAA;;AAAA;;AACI,uBAAYC,IAAZ,EAAkBC,MAAlB,EAA0BC,SAA1B,EAAqC;AAAA;;AAAA;;AACjC,QAAMC,IAAI,GAAI,CAACF,MAAM,GAAG,KAAH,GAAW,MAAlB,IAA6BD,IAAI,GAAG,CAAlD;AACA,8BAAMG,IAAN,EAAYA,IAAZ,EAAkBD,SAAlB,EAA6B,KAA7B;AACA,UAAKF,IAAL,GAAYA,IAAZ;AACA,UAAKC,MAAL,GAAcA,MAAd;AAJiC;AAKpC;;AANL;AAAA;AAAA,2BAOWG,MAPX,EAOmBC,KAPnB,EAO0B;AAClB,UAAIC,CAAC,GAAGb,SAAS,CAACc,IAAV,CAAeF,KAAf,CAAR,CADkB,CAElB;;AACA,UAAIG,YAAY,GAAGd,UAAU,CAACe,IAAX,CAAgBL,MAAM,CAACM,QAAP,GAAkB,CAAlC,CAAnB;;AACA,UAAI,KAAKT,MAAT,EAAiB;AACb,YAAIU,MAAM,GAAGH,YAAY,CAACC,IAAb,CAAkB,KAAKT,IAAL,GAAY,CAAZ,GAAgB,CAAlC,CAAb;;AACA,YAAIM,CAAC,CAACM,EAAF,CAAKD,MAAL,KAAgBL,CAAC,CAACO,EAAF,CAAKF,MAAM,CAACG,GAAP,CAAWlB,GAAX,EAAgBmB,GAAhB,CAAoBpB,WAApB,CAAL,CAApB,EAA4D;AACxD,eAAKqB,WAAL,CAAiB,qBAAjB,EAAwCX,KAAxC;AACH;AACJ,OALD,MAMK,IAAIC,CAAC,CAACO,EAAF,CAAKhB,IAAL,KAAcS,CAAC,CAACM,EAAF,CAAKJ,YAAY,CAACC,IAAb,CAAkB,KAAKT,IAAL,GAAY,CAA9B,CAAL,CAAlB,EAA0D;AAC3D,aAAKgB,WAAL,CAAiB,qBAAjB,EAAwCX,KAAxC;AACH;;AACDC,MAAAA,CAAC,GAAGA,CAAC,CAACW,MAAF,CAAS,KAAKjB,IAAL,GAAY,CAArB,EAAwBS,IAAxB,CAA6B,KAAKT,IAAL,GAAY,CAAzC,CAAJ;;AACA,UAAI,KAAKC,MAAT,EAAiB;AACbK,QAAAA,CAAC,GAAGA,CAAC,CAACY,QAAF,CAAW,KAAKlB,IAAL,GAAY,CAAvB,EAA0BiB,MAA1B,CAAiC,IAAIb,MAAM,CAACM,QAA5C,CAAJ;AACH;;AACD,aAAON,MAAM,CAACe,UAAP,CAAkBb,CAAlB,CAAP;AACH;AAzBL;AAAA;AAAA,2BA0BWc,MA1BX,EA0BmB;AACX,UAAIf,KAAK,GAAGe,MAAM,CAACC,SAAP,GAAmBZ,IAAnB,CAAwB,KAAKT,IAAL,GAAY,CAApC,CAAZ;;AACA,UAAI,KAAKC,MAAT,EAAiB;AACbI,QAAAA,KAAK,GAAGA,KAAK,CAACa,QAAN,CAAe,KAAKlB,IAAL,GAAY,CAA3B,CAAR;AACH;;AACD,aAAOoB,MAAM,CAACE,MAAP,CAAc,KAAKnB,IAAnB,EAAyBE,KAAzB,CAAP;AACH;AAhCL;;AAAA;AAAA,EAAiCP,KAAjC","sourcesContent":["\"use strict\";\r\nimport { BigNumber } from \"@ethersproject/bignumber\";\r\nimport { MaxUint256, NegativeOne, One, Zero } from \"@ethersproject/constants\";\r\nimport { Coder } from \"./abstract-coder\";\r\nexport class NumberCoder extends Coder {\r\n    constructor(size, signed, localName) {\r\n        const name = ((signed ? \"int\" : \"uint\") + (size * 8));\r\n        super(name, name, localName, false);\r\n        this.size = size;\r\n        this.signed = signed;\r\n    }\r\n    encode(writer, value) {\r\n        let v = BigNumber.from(value);\r\n        // Check bounds are safe for encoding\r\n        let maxUintValue = MaxUint256.mask(writer.wordSize * 8);\r\n        if (this.signed) {\r\n            let bounds = maxUintValue.mask(this.size * 8 - 1);\r\n            if (v.gt(bounds) || v.lt(bounds.add(One).mul(NegativeOne))) {\r\n                this._throwError(\"value out-of-bounds\", value);\r\n            }\r\n        }\r\n        else if (v.lt(Zero) || v.gt(maxUintValue.mask(this.size * 8))) {\r\n            this._throwError(\"value out-of-bounds\", value);\r\n        }\r\n        v = v.toTwos(this.size * 8).mask(this.size * 8);\r\n        if (this.signed) {\r\n            v = v.fromTwos(this.size * 8).toTwos(8 * writer.wordSize);\r\n        }\r\n        return writer.writeValue(v);\r\n    }\r\n    decode(reader) {\r\n        let value = reader.readValue().mask(this.size * 8);\r\n        if (this.signed) {\r\n            value = value.fromTwos(this.size * 8);\r\n        }\r\n        return reader.coerce(this.name, value);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}